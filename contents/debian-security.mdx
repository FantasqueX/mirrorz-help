---
title: Debian Security 软件仓库镜像使用帮助
cname: 'debian-security'
---

大部分 Debian 的软件源配置文件使用传统的 One-Line-Style，路径为 `/etc/apt/sources.list`；但是对于容器镜像，从 Debian 12 开始，其软件源配置文件变更为 DEB822 格式，路径为 `/etc/apt/sources.list.d/debian.sources`。一般情况下，将对应文件中 Debian 默认的源地址 `http://security.debian.org/` 替换为镜像地址即可。

#### 传统格式（`/etc/apt/sources.list`）：

<CodeBlock
  menus={[
    {
      title: 'Debian 版本',
      items: [
        ['Debian 11 (bullseye)', { release_name: 'bullseye', security: '-security', is_sid: '', has_backports: '', has_nfw: ''  }],
        ['Debian 12 (bookworm)', { release_name: 'bookworm', security: '-security', is_sid: '', has_backports: '', has_nfw: ' non-free-firmware'  }],
        ['sid', { release_name: 'sid', security: '-security', is_sid: '# ', has_backports: '# ', has_nfw: ' non-free-firmware'  }],
        ['testing', { release_name: 'testing', security: '-security', is_sid: '', has_backports: '', has_nfw: ' non-free-firmware'  }],
        ['Debian 10 (buster)', { release_name: 'buster', security: '/updates', is_sid: '', has_backports: '', has_nfw: ''  }],
      ]
    },
    {
      title: '启用源码镜像',
      items: [
        ['否', { enable_source: '# ' }],
        ['是', { enable_source: '' }],
      ]
    }
  ]}
>

```properties
# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
{{is_sid}}deb {{http_protocol}}{{mirror}} {{release_name}}{{security}} main contrib non-free{{has_nfw}}
{{is_sid}}{{enable_source}}deb-src {{http_protocol}}{{mirror}} {{release_name}}{{security}} main contrib non-free{{has_nfw}}
```

</CodeBlock>

#### DEB822 格式（`/etc/apt/sources.list.d/debian.sources`）：

<CodeBlock
  enableQuickSetup
  filepath="/etc/apt/sources.list.d/debian.sources"
  menus={[
    {
      title: 'Debian 版本',
      items: [
        ['Debian 12 (bookworm)', { release_name: 'bookworm', security: '-security', is_sid: '', has_nfw: ' non-free-firmware' }],
        ['sid', { release_name: 'sid', security: '-security', is_sid: '# ', has_nfw: ' non-free-firmware' }],
        ['testing', { release_name: 'testing', security: '-security', is_sid: '', has_nfw: ' non-free-firmware' }],
      ]
    },
    {
      title: '启用源码镜像',
      items: [
        ['否', { enable_source: '# ' }],
        ['是', { enable_source: '' }],
      ]
    }
  ]}
>

```yaml
{{is_sid}}Types: deb
{{is_sid}}URIs: {{http_protocol}}{{mirror}}
{{is_sid}}Suites: {{release_name}}-security
{{is_sid}}Components: main contrib non-free{{has_nfw}}

{{is_sid}}{{enable_source}}Types: deb-src
{{is_sid}}{{enable_source}}URIs: {{http_protocol}}{{mirror}}
{{is_sid}}{{enable_source}}Suites: {{release_name}}-security
{{is_sid}}{{enable_source}}Components: main contrib non-free{{has_nfw}}
```

</CodeBlock>
